{% extends "main.html" %}
{% include "components/modal.html" %}
{% from "macros/header-block.j2" import header_block %}
{% from "macros/buttons.j2" import btn with context %}
{% block title %} M. DOCENTE | SGAPA{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/asistencia.css') }}">
{% endblock %}

{% block content %}
<div class="container">
    <div class="assistance" id="asistencia">

        {{ header_block('app_registration', 'Asistencia', 'var(--color-orange-card)') }}

        <div class="assistance__group">
            <div class="group">
                <label for="grados-select">Grupo:</label>
                <select id="grados-select" name="grados" aria-label="Selecciona un grado">
                    <option value="">Seleccionar</option>
                    <option value="601">Grado 601</option>
                    <option value="602">Grado 602</option>
                    <option value="603">Grado 603</option>
                    <option value="604">Grado 604</option>
                    <option value="605">Grado 605</option>
                </select>
            </div>
            <div class="subjects">
                <label for="grados-select">Asignatura:</label>
                <select id="grados-select" name="grados" aria-label="Selecciona una asignatura">
                    <option value="">Seleccionar</option>
                    <option value="matematicas">Matemáticas</option>
                    <option value="catellano">Castellano</option>
                    <option value="tecnologia">Tecnología</option>
                    <option value="etica">Ética</option>
                    <option value="artistica">Artistica</option>
                </select>
            </div>
            <div class="period">
                <label for="grados-select">Periodo:</label>
                <select id="grados-select" name="grados" aria-label="Selecciona un Periodo">
                    <option value="primero">Primero</option>
                    <option value="segundo">Segundo</option>
                    <option value="tercero">Terecero</option>
                    <option value="cuarto">Cuarto</option>
                </select>
            </div>
        </div>
        <div class="assistance__buttons">
            {{ btn(icono="add", texto="Cargar", color="load") }}
            {{ btn(icono="save", texto="Guardar", color="save") }}
            {{ btn(icono="delete", texto="Eliminar", color="delete") }}
            {{ btn(icono="eye_tracking ", texto="Ver Notas", color="view") }}
        </div>
        <div class="assistance__notes">
            <table class="table__edit">
                <thead>
                    <tr>
                        <th class="table__name">Apellidos</th>
                        <th class="table__name">Nombres</th>
                        <th class="table__notes">Ausente</th>
                        <th class="table__notes">Retardo</th>
                        <th class="table__notes">Fuga</th>
                        <th class="table__notes">Excusa</th>
                        <th class="table__notes">Total</th>
                        <th class="table__name">Observación</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Pérez</td>
                        <td>Juan</td>
                        <td><input type="checkbox" class="attendance-check" name="ausente_1" aria-label="ausente"></td>
                        <td><input type="checkbox" class="attendance-check" name="retardo_1" aria-label="retardo"></td>
                        <td><input type="checkbox" class="attendance-check" name="fuga_1" aria-label="fuga"></td>
                        <td><input type="checkbox" class="attendance-check" name="excusa_1" aria-label="excusa"></td>
                        <td class="total-cell">0</td>
                        <td><input type="text" class="observation-input" name="observacion_1" aria-label="observacion">
                        </td>
                    </tr>
                    <tr>
                        <td>Giraldo </td>
                        <td>Alejandra</td>
                        <td><input type="checkbox" class="attendance-check" name="ausente_1" aria-label="ausente"></td>
                        <td><input type="checkbox" class="attendance-check" name="retardo_1" aria-label="retardo"></td>
                        <td><input type="checkbox" class="attendance-check" name="fuga_1" aria-label="fuga"></td>
                        <td><input type="checkbox" class="attendance-check" name="excusa_1" aria-label="excusa"></td>
                        <td class="total-cell">0</td>
                        <td><input type="text" class="observation-input" name="observacion_1" aria-label="observacion">
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<!--end asistencia-->
{% block extra_js %}
<script>
    /*Funcion salir al index.html*/
    function confirmLogout() {
        window.location.href = "{{ url_for('auth.logout') }}";
    }

    function showModal(title, message, action) {
        document.getElementById("modalTitle").innerText = title;
        document.getElementById("modalMessage").innerText = message;
        window.modalAction = action;

        const modal = document.getElementById("confirmModal");
        modal.style.display = "flex";
    }
    document.getElementById("modalConfirm").addEventListener("click", function () {
        if (typeof modalAction === 'function') {
            modalAction();
        }
        document.getElementById("confirmModal").style.display = "none";
    });

    document.getElementById("modalCancel").addEventListener("click", function () {
        document.getElementById("confirmModal").style.display = "none";
    });
</script>
{% endblock %}

{% endblock %}