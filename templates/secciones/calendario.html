{% extends "main.html" %}

{% block extra_css %}
<!-- FullCalendar CSS -->
<link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css"  rel="stylesheet">
<link rel="stylesheet" href="{{ url_for('static', filename='css/calendario.css') }}">
{% endblock %}

{% block content %}
<!-- Ventana modal -->
{% include "components/modal.html" %}
<div class="calendar_container">
    <div class="registration__title">
        <div class="title">
            <div class="navbar__logo">
                <span onclick="showModal('', '¿Estás seguro de que deseas cerrar sesión?', confirmLogout)"
                    class="icon material-symbols-outlined toggleBtn">
                    logout
                </span>
                <h2>Calendario</h2>
            </div>
        </div>
        <div class="icon__return">
            <a href="{{ url_for('dashboards.dashboard_administrador') }}" class="icon__link">
                <i class="material-symbols-outlined" aria-label="Table">arrow_back</i>
            </a>
        </div>
    </div>
</div>

<!-- Contenedor del calendario -->
<div id="calendar"></div>

<!-- Modal para agregar/editar evento -->
<div id="eventModal" class="modal">
    <h2 id="modalTitle"></h2>
    <form class="form" id="eventForm">
        <label for="eventTitle">Actividad:</label>
        <input type="text" id="eventTitle" required>

        <label for="eventStart">Fecha de Inicio:</label>
        <input type="date" id="eventStart" required>

        <label for="eventEnd">Fecha de Finalización:</label>
        <input type="date" id="eventEnd" required>

        <label for="eventDuration">Duración (días):</label>
        <input type="number" id="eventDuration" min="1" value="1" required readonly>

        <label for="eventColor">Color del evento:</label>
        <select id="eventColor" required>
            <option value="#3788d8">Azul</option>
            <option value="#ff9f89">Rojo claro</option>
            <option value="#4caf50">Verde</option>
            <option value="#ffeb3b">Amarillo</option>
            <option value="#9c27b0">Morado</option>
            <option value="#ff5722">Naranja</option>
            <option value="#00bcd4">Turquesa</option>
            <option value="#8bc34a">Verde claro</option>
            <option value="#e91e63">Rosa</option>
            <option value="#795548">Marrón</option>
        </select>

        <div class="modal__buttons">
            <button type="submit" class="btn">Guardar<i class="material-symbols-outlined">save</i></button>
            <button type="button" class="btn" onclick="closeModal()">Cancelar<i class="material-symbols-outlined">delete</i></button>
        </div>
    </form>
</div>

<!-- Fondo oscuro para el modal -->
<div id="modalOverlay" class="modal-overlay"></div>

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js"></script> 
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/locales/es.min.js"></script> 
<script src="{{url_for('static', filename= 'js/calendario.js')}}"></script>
{% endblock %}

{% endblock %}