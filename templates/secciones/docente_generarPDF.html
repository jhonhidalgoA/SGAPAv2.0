{% extends "main.html" %}

{% block title %} M. DOCENTE | SGAPA {% endblock %}
{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/docente_generarPDF.css') }}">
{% endblock %}

{% block content %}
<div class="cv-container">
    <div class="watermark">DOCUMENTO GENERADO AUTOMÁTICAMENTE</div>
    <div class="header">
        <div class="header-content">
            <div class="institution-info">
                <div class="institution-logo">
                    <img src="{{ url_for('static', filename='img/logoColegio.png') }}" alt="Logo del Colegio">
                </div>
                <div class="institution-name">INSTITUCIÓN EDUCATIVA SGAPA</div>
                <div class="document-title">HOJA DE VIDA DOCENTE</div>

                {% if teacher %}
                    <div class="name" id="fullName">{{ teacher[1] }} {{ teacher[2] }}</div>
                {% else %}
                    <div class="name" id="fullName">Nombre del Docente</div>
                {% endif %}
            </div>

            {% if teacher %}
            <div class="profile-section">
                <div class="photo-container">
                    {% if teacher[17] %}
                        <img src="{{ url_for('static', filename=teacher[17]) }}" alt="Foto del Docente" class="teacher-photo">
                    {% else %}
                        <div class="photo-placeholder">Foto del<br>Docente</div>
                    {% endif %}
                </div>

                <div class="basic-info">
                    <div class="info-item">
                        <span class="material-symbols-outlined">mark_email_read</span>
                        <p class="sub-title">{{ teacher[11] }}</p>
                    </div>
                    <div class="info-item">
                        <span class="material-symbols-outlined">settings_phone</span>
                        <p class="sub-title">{{ teacher[10] }}</p>
                    </div>
                    <div class="info-item">
                        <span class="material-symbols-outlined">id_card</span>
                        <p class="sub-title">{{ teacher[9] }} {{ teacher[8] }}</p>
                    </div>
                    <div class="info-item">
                        <span class="material-symbols-outlined">calendar_month</span>
                        <p class="sub-title">Fecha de Registro: {{ teacher[3] }}</p>
                    </div>
                </div>
            </div>
            {% endif %}
        </div>
    </div>

    <div class="content">
        {% if teacher %}
        <div class="section">
            <h2 class="section-title">Información Personal</h2>
            <div class="info-grid">
                <div class="info-card">
                    <div class="card-title">Fecha de Nacimiento:</div>
                    <div class="card-value" id="birthDate">{{ teacher[5] }}</div>
                </div>
                <div class="info-card">
                    <div class="card-title">Edad:</div>
                    <div class="card-value" id="age">{{ teacher[6] }} años</div>
                </div>
                <div class="info-card">
                    <div class="card-title">Género:</div>
                    <div class="card-value" id="gender">{{ teacher[7] }}</div>
                </div>
                <div class="info-card">
                    <div class="card-title">Lugar de Nacimiento</div>
                    <div class="card-value" id="birthPlace">{{ teacher[8] }}</div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2 class="section-title">Información Profesional</h2>
            <div class="professional-section">
                <div class="info-grid">
                    <div class="info-card">
                        <div class="card-title">Profesión</div>
                        <div class="card-value" id="profession">{{ teacher[12] }}</div>
                    </div>
                    <div class="info-card">
                        <div class="card-title">Área de Especialización</div>
                        <div class="card-value" id="area">{{ teacher[13] }}</div>
                    </div>
                    <div class="info-card">
                        <div class="card-title">Escalafón</div>
                        <div class="card-value" id="scale">{{ teacher[16] }}</div>
                    </div>
                    <div class="info-card">
                        <div class="card-title">Número de Resolución</div>
                        <div class="card-value" id="resolution">{{ teacher[15] }}</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2 class="section-title">Código de Empleado</h2>
            <div class="code-display" id="employeeCode">
                {{ teacher[4] }}
            </div>
        </div>
        {% else %}
        <div class="section">
            <h2 class="section-title">Error</h2>
            <p>No se encontraron datos del docente.</p>
        </div>
        {% endif %}
    </div>

    <div class="footer">
        <div class="footer-info">
            Documento generado automáticamente el
            <span id="genDate">
                {{ "now" | to_datetime("%Y-%m-%d %H:%M:%S") | datetimeformat("%d de %B de %Y") }}
            </span>
            <br>
            Sistema de Gestión Administrativa y Procesos Académicos - Versión 1.0
        </div>
        <div class="qr-placeholder">QR Code<br>Verificación</div>
        <br>
        <button class="generate-btn" onclick="generatePDF()">📄 Descargar PDF</button>
    </div>
</div>

{% block extra_js %}
<script>
    
</script>
{% endblock %}
{% endblock %}