{% extends "main.html" %}
{% include "components/modal.html" %}
{% from "macros/macros.j2" import header %}
{% from "macros/buttons.j2" import btn with context %}
{% block title %} M. ADMINISTRADOR | SGAPA {% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/horario.css') }}">
{% endblock %}

{% block content %}
<main>
    <section>
        {{ header(titulo="Horario Grupos", color__fondo="var(--color-pink)") }}
        <section class="container">
            <div class="horario">
                <div class="container__title">
                    <div class="grados">
                        <label for="grados-select">Grados:</label>
                        <select id="grados-select" name="grados" aria-label="Selecciona un grado">
                            <option value="">Seleccionar</option>
                            <option value="601">Grado 601</option>
                            <option value="602">Grado 602</option>
                            <option value="603">Grado 603</option>
                            <option value="604">Grado 604</option>
                            <option value="605">Grado 605</option>
                        </select>
                    </div>
                    <div class="docente">
                        <label for="docente-select">Director de Grupo:</label>
                        <select id="docente-select" name="docente" aria-label="Selecciona un director de grupo">
                            <option value="">Seleccionar</option>
                            <option value="Jhon F. Hidalgo">Jhon F. Hidalgo</option>
                            <option value="Alejandra Marin">Alejandra Hidalgo</option>
                            <option value="Sofia Giraldo">Sofia Giraldo</option>
                            <option value="Amparo Pineda">Amparo Pineda</option>
                            <option value="Jorge Armando G.">Jorge Armando G.</option>
                        </select>
                    </div>
                </div>
                <table>
                    <thead>
                        <tr class="horario_dias">
                            <th>Hora</th>
                            <th>Lunes</th>
                            <th>Martes</th>
                            <th>Miércoles</th>
                            <th>Jueves</th>
                            <th>Viernes</th>
                        </tr>
                    </thead>
                    <tbody class="tabla__horario" id="tabla-horario">
                        <!-- Las filas se generarán dinámicamente -->
                    </tbody>
                </table>

                <div class="planning__buttons">
                    {{ btn(icono="add", texto="Agregar", color="send", id="agregar-hora") }}
                    {{ btn(icono="picture_as_pdf", texto="Guardar", color="save", tipo="submit") }}
                    {{ btn(icono="delete", texto="Borrar", color="delete", tipo="reset") }}
                    {{ btn(icono="print", texto="Imprimir", color="print") }}

                </div>
            </div>
            <div class="asignacion">
                <h3>Asignación de Horas</h3>
                <table id="tablaMaterias">
                    <thead>
                        <tr>
                            <th>Materia</th>
                            <th>Asignación</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="subject">Castellano</td>
                            <td>5</td>
                        </tr>
                        <tr>
                            <td class="subject">Inglés</td>
                            <td>4</td>
                        </tr>
                        <tr>
                            <td class="subject">Matemáticas</td>
                            <td>4</td>
                        </tr>
                        <tr>
                            <td class="subject">C. Sociales</td>
                            <td>3</td>
                        </tr>
                        <tr>
                            <td class="subject">Historia y Geografía</td>
                            <td>3</td>
                        </tr>
                        <tr>
                            <td class="subject">Artística</td>
                            <td>2</td>
                        </tr>
                        <tr>
                            <td class="subject">Biología</td>
                            <td>2</td>
                        </tr>
                        <tr>
                            <td class="subject">E. Física</td>
                            <td>2</td>
                        </tr>
                        <tr>
                            <td class="subject">Tecnología</td>
                            <td>2</td>
                        </tr>
                        <tr>
                            <td class="subject">C. Lectora</td>
                            <td>1</td>
                        </tr>
                        <tr>
                            <td class="subject">Cátedra de la Paz</td>
                            <td>1</td>
                        </tr>
                        <tr>
                            <td class="subject">Ética</td>
                            <td>1</td>
                        </tr>
                        <tr>
                            <td class="subject">Estadística</td>
                            <td>1</td>
                        </tr>
                        <tr>
                            <td class="subject">Física</td>
                            <td>1</td>
                        </tr>
                        <tr>
                            <td class="subject">Geometría</td>
                            <td>1</td>
                        </tr>
                        <tr>
                            <td class="subject">Química</td>
                            <td>1</td>
                        </tr>
                        <tr>
                            <td class="subject">Religión</td>
                            <td>1</td>
                        </tr>
                        <tr class="break">
                            <td class="subject">Descanso</td>
                            <td>5</td>
                        </tr>
                        <tr class="break">
                            <td class="subject">Almuerzo</td>
                            <td>5</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
    </section>
</main>|
{% block extra_js %}
<script>
    function confirmLogout() {
        window.location.href = "{{ url_for('auth.logout') }}";
    }
    function showModal(title, message, action) {
        document.getElementById("modalTitle").innerText = title;
        document.getElementById("modalMessage").innerText = message;
        window.modalAction = action;

        const modal = document.getElementById("confirmModal");
        modal.style.display = "flex";
    }
    document.getElementById("modalConfirm").addEventListener("click", function () {
        if (typeof modalAction === 'function') {
            modalAction();
        }
        document.getElementById("confirmModal").style.display = "none";
    });

    document.getElementById("modalCancel").addEventListener("click", function () {
        document.getElementById("confirmModal").style.display = "none";
    });
</script>

<script src="{{ url_for('static', filename='js/horario.js') }}"></script>
{% endblock %}

{% endblock %}